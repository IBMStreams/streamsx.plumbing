<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator LeadershipElection"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator LeadershipElection</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">LeadershipElection</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">com.ibm.streamsx.plumbing</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.plumbing.html">com.ibm.streamsx.plumbing 1.0.0</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.plumbing.leader.html">com.ibm.streamsx.plumbing.leader</a> &gt; LeadershipElection</p>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.plumbing/op$com.ibm.streamsx.plumbing.leader$LeadershipElection.svg" width="872" height="112"/>
</div>

<div class="section">

<div class="p">Performs a leadership election between other operator invocations with the same <tt class="ph tt">group</tt>. At any time only one invocation is the leader, should a leader have a failure a new leader will be elected. Leadership election uses Apache Curator's leadership latch recipe against the Streams instance Zookeeper service. When the <tt class="ph tt">path</tt> parameter is not set the leadership election is between operator invocations with the same <tt class="ph tt">group</tt> in a single job. In this case:
<ul class="ul">
<li class="li"> the application requires an invocation of the <tt class="ph tt">JobControlPlane</tt> operator.</li>

<li class="li"> Invocations of <tt class="ph tt">LeadershipElection</tt> within the same <tt class="ph tt">group</tt> must be exlocated into different PEs.</li>

</ul>
The Zookeeper root znode for the recipe is a sub-node <tt class="ph tt">group</tt> within job's storage node (<tt class="ph tt">com.ibm.streams.management.job.JobMXBean.retrieveZooKeeperStorageNode()</tt>).
</div>

<div class="p">When the <tt class="ph tt">path</tt> parameter is set the leadership election is between operator invocations with the same <tt class="ph tt">path</tt> and <tt class="ph tt">group</tt> in a single domain, typically between operator invocations in different jobs in an instance. In this case:
<ul class="ul">
<li class="li"> Any invocations of <tt class="ph tt">LeadershipElection</tt> within the same <tt class="ph tt">path</tt> and <tt class="ph tt">group</tt> and job must be exlocated into different PEs.</li>

</ul>
The Zookeeper root znode for the recipe is a <tt class="ph tt">path</tt>/<tt class="ph tt">group</tt>.
</div>

<p class="p">When the leadership state of the operator changes a tuple is submitted to the output port.
</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 0 input ports and 1 output port.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 2 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__group">group</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__path">path</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator reports 1 metric.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">Java</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set">Output Ports</a></strong></p>
<dl class="dl">
  
     <dt class="dt dlterm">Assignments</dt>

       <dd class="dd">Java operators do not support output assignments.
       </dd>

  
</dl>

<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">

<p class="p">Contains tuples representing leadership status changes. The stream schema can be <a class="xref" href="spl$com.ibm.streamsx.plumbing.leader$leader.html#spldoc_compilationunit__type__LeaderStatus">LeaderStatus</a> or any arbitrary schema. Any attribute matching an attribute in <a class="xref" href="spl$com.ibm.streamsx.plumbing.leader$leader.html#spldoc_compilationunit__type__LeaderStatus">LeaderStatus</a> willbe set to a valid value otherwise it will be set to its default value.
</p>

<p class="p"/>

   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">
   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__windowpunctuationoutputmode">WindowPunctuationOutputMode</a>: Free
     </li>

   </ul>

      </dd>

    
   </dl>

   <p class="p"/>

   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>
This operator supports 2 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__group">group</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__path">path</a>

</p>
<dl class="dl">

<dt class="dt dlterm"><a name="spldoc_operator__parameter__group"><!-- --></a><tt class="ph tt">group</tt></dt>

<dd class="dd">
<p class="p">Leadership group name. All instances of this operator within the same <tt class="ph tt">group</tt> are participants in a single leadership election. Group name must not start with a slash (<tt class="ph tt">/</tt>).
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__path"><!-- --></a><tt class="ph tt">path</tt></dt>

<dd class="dd">
<p class="p">Znode path for leadership election across multiple jobs, must start with a <tt class="ph tt">/</tt> to be used across jobs (or an empty string to default to within a job). Optional, when not set (or set to the empty string) the path used is specific to the job and leadership election is across operator invocations within a single jobs.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>


</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__metrics">Metrics</a></strong></p>
<dl class="dl">
  
    <dt class="dt dlterm"><tt class="ph tt">isLeader</tt> - <a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__metrics_kind_gauge">Gauge</a></dt>

    <dd class="dd">

<p class="p">Is this invocation the leader. 1 this operator invocation is the leader for the group, 0 is it not the leader.
</p>

     <p class="p"/>

     </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>

 <dl class="dl">
 
  <dt class="dt dlterm">Operator class library
  </dt>

  <dd class="dd"/>

  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__libpath">Library Path</a>: <tt class="ph tt">../../impl/lib/com.ibm.streamsx.plumbing.jar, ../../opt/apache-curator/*, ../../opt/slf4j-1.7.5/*, ../../opt/zookeeper-3.4.8.jar, ../../opt/guava-14.0.1.jar</tt></dd>

 
 </dl>

</div>

</div>


</body>
</html>