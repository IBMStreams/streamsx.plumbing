<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="spldoc_compilationunit">
<title>SPL File <tt>ActiveReplicasManual3.spl</tt></title>
<refbody>
<section>
<p>
<xref href="../toolkits/toolkits.xml">streamsx.plumbing</xref> &gt; <xref href="tk$redundant.xml">redundant 1.0.0</xref> &gt; <xref href="ns$com.ibm.streamsx.plumbing.sample.redundant.active.xml">com.ibm.streamsx.plumbing.sample.redundant.active</xref> &gt; ActiveReplicasManual3.spl</p>
</section>
<section>
  <title outputclass="splhead-1">Content</title>
  <dl>
    <dlentry><dt></dt><dd></dd></dlentry>
    <dlentry>
      <dt outputclass="splhead-2">Operators</dt>
      <dd>
<sl>
<sli><b><xref href="spl$com.ibm.streamsx.plumbing.sample.redundant.active$ActiveReplicasManual3.xml#spldoc_compilationunit/composite_operator__ActiveReplicasManual3">ActiveReplicasManual3</xref></b>: Execution of three copies of Flow() to provide two levels of redundancy.
</sli>
</sl>
      </dd>
    </dlentry>
  </dl>
</section>
<section>
  <title outputclass="splhead-1">Composites</title>
</section>
<section id="composite_operator__ActiveReplicasManual3">
  <title outputclass="splpart">composite ActiveReplicasManual3</title>
</section>
<section>

<p>Execution of three copies of Flow() to provide two levels of redundancy. The flows are separated into three separate host pools (Rack_0, Rack_1, Rack2) to allow each flow to be executed on a different set of hosts. In this case the pools are defined by host tags, requiring three distinct sets of hosts,  tagged with <tt>rack_0</tt>, <tt>rack_1</tt> and <tt>rack_2</tt>. 
</p>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
  <title outputclass="splhead-2">Composite Operator Graph</title>
</section>
<section outputclass="splgraph">
  <image href="../../image/tk$redundant/op$com.ibm.streamsx.plumbing.sample.redundant.active$ActiveReplicasManual3.svg" width="118" height="197">
    <alt>SPL composite operator image not displayed. Problem loading file: ../../image/tk$redundant/op$com.ibm.streamsx.plumbing.sample.redundant.active$ActiveReplicasManual3.svg
</alt>
  </image>
</section>
<section>
  <title outputclass="splhead-2">SPL Source Code</title>
</section>

<section>
   <codeblock>
<![CDATA[
 public composite ActiveReplicasManual3
 {
     graph
       () as RedundantFlow_0 = Flow()
       {
         config placement: host(Rack_0);
       }
 
       () as RedundantFlow_1 = Flow()
       {
         config placement: host(Rack_1);
       }
 
       () as RedundantFlow_2 = Flow()
       {
         config placement: host(Rack_2);
       }
 
     config
        // Pools are created shared to allow
        // other applications to use the same hosts.
        hostPool:
             Rack_0 = createPool({tags=["rack_0"]}, Sys.Shared),
             Rack_1 = createPool({tags=["rack_1"]}, Sys.Shared),
             Rack_2 = createPool({tags=["rack_2"]}, Sys.Shared);      
 }
]]>
   </codeblock>
</section>
</refbody>
</reference>

